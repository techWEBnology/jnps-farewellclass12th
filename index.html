<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Farewell Invitation | Class 11 ‚Üí 12</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600&family=Playfair+Display:wght@600&display=swap" rel="stylesheet">

<style>
:root{
  --primary:#4a90e2;
  --accent:#ff8a65;
  --success:#50c878;
  --warning:#f4b400;
  --purple:#9b59b6;
  --pink:#e91e63;
  --danger:#e74c3c;
  --tech-blue:#1e40af;
  --glass:rgba(255,255,255,.85);
  --bg:linear-gradient(135deg,#f5f7fa 0%,#e1eec3 50%,#c4e17f 100%);
  --glow:0 0 20px rgba(74,144,226,.6);
}

*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:'Outfit',sans-serif;
}

body{
  background:var(--bg);
  min-height:100vh;
  overflow-x:hidden;
  line-height:1.6;
}

.container{
  width:100%;
  min-height:100vh;
  padding:4vw 5vw;
  display:flex;
  align-items:center;
  justify-content:center;
  opacity:0;
  transition:opacity .5s ease;
}
.container.active{opacity:1;}

.card{
  width:100%;
  max-width:900px;
  max-height:85vh;
  overflow-y:auto;
  background:var(--glass);
  backdrop-filter:blur(25px);
  border-radius:clamp(20px,5vw,40px);
  padding:clamp(25px,6vw,50px) clamp(20px,5vw,45px);
  text-align:center;
  box-shadow:0 20px 60px rgba(0,0,0,.15);
  display:none;
  animation:pop .7s cubic-bezier(.34,1.56,.64,1);
  border:1px solid rgba(255,255,255,.3);
  position:relative;
  transition:all .4s ease;
  margin:2vh 0;
}
.card.active{display:block;}
.card:hover{transform:scale(1.01);box-shadow:0 30px 80px rgba(0,0,0,.2),var(--glow);}

h1{
  font-family:'Playfair Display',serif;
  font-size:clamp(1.8rem,6vw,3rem);
  margin-bottom:clamp(15px,4vw,25px);
  filter:drop-shadow(0 0 10px rgba(74,144,226,.3));
  animation:glowPulse 3s ease-in-out infinite alternate;
}

.color-primary{background:linear-gradient(45deg,var(--primary),#357abd);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;}
.color-accent{background:linear-gradient(45deg,var(--accent),#ff6b35);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;}
.color-success{background:linear-gradient(45deg,var(--success),#38a169);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;}
.color-warning{background:linear-gradient(45deg,var(--warning),#f6ad55);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;}
.color-purple{background:linear-gradient(45deg,var(--purple),#8e44ad);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;}
.color-pink{background:linear-gradient(45deg,var(--pink),#c2185b);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;}
.color-danger{background:linear-gradient(45deg,var(--danger),#c0392b);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;}
.color-rainbow{background:linear-gradient(45deg,var(--primary),var(--accent),var(--success),var(--warning),var(--purple));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;animation:rainbow 4s ease infinite;}

@keyframes rainbow{0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}
@keyframes glowPulse{from{filter:drop-shadow(0 0 10px rgba(74,144,226,.3));}to{filter:drop-shadow(0 0 25px rgba(74,144,226,.6));}}

p{
  font-size:clamp(1rem,3.5vw,1.25rem);
  color:#555;
  margin-bottom:1.5em;
  opacity:0;
  animation:fadeInUp 1s ease forwards;
}
p:last-child{margin-bottom:0;}
p b{font-weight:600;}
@keyframes fadeInUp{to{opacity:1;transform:translateY(0);}}

@keyframes pop{from{opacity:0;transform:scale(.92) translateY(20px);}to{opacity:1;transform:scale(1) translateY(0);}}

#emoji-container{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:1;
}
.emoji{
  position:absolute;
  bottom:-40px;
  font-size:clamp(1.2rem,4vw,2rem);
  opacity:.7;
  animation:float 12s ease-in infinite, sparkle 2s ease-in-out infinite alternate;
  filter: drop-shadow(0 0 8px currentColor);
}
@keyframes float{to{transform:translateY(-110vh) rotate(720deg);opacity:0;}}
@keyframes sparkle{from{text-shadow:0 0 5px currentColor;}to{text-shadow:0 0 20px currentColor,0 0 30px currentColor;}}

.start-screen{
  position:fixed;
  inset:0;
  background:var(--bg);
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  z-index:20;
  text-align:center;
  padding:clamp(40px,15vh,100px) 20px;
  min-height:100vh;
}
.start-screen h1{
  font-family:'Playfair Display',serif;
  font-size:clamp(2.5rem,8vw,4rem);
  background:linear-gradient(45deg,var(--primary),var(--accent),var(--success));
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  background-clip:text;
  margin-bottom:clamp(20px,5vh,40px);
  animation:glowPulse 2s ease-in-out infinite alternate;
}
.start-screen p{font-size:clamp(1.1rem,4vw,1.4rem);color:#666;margin-bottom:40px;}
.start-screen button{
  padding:clamp(18px,4vw,25px) clamp(40px,8vw,60px);
  border-radius:50px;
  border:none;
  background:linear-gradient(45deg,var(--primary),#357abd);
  color:white;
  font-size:clamp(1.1rem,4vw,1.3rem);
  font-weight:600;
  cursor:pointer;
  box-shadow:var(--glow),0 20px 40px rgba(0,0,0,.25);
  transition:all .4s ease;
  position:relative;
  overflow:hidden;
  min-width:200px;
}
.start-screen button:hover{transform:translateY(-5px) scale(1.05);box-shadow:0 25px 50px rgba(74,144,226,.4),0 0 30px rgba(74,144,226,.6);}

.options{margin-top:clamp(20px,5vw,30px);}
.options button{
  width:100%;
  margin:clamp(8px,2vw,12px) 0;
  padding:clamp(12px,3vw,16px);
  border-radius:18px;
  border:none;
  background:linear-gradient(145deg,white,rgba(255,255,255,.8));
  font-size:clamp(.95rem,3vw,1.1rem);
  font-weight:600;
  cursor:pointer;
  transition:all .3s cubic-bezier(.4,0,.2,1);
  box-shadow:0 8px 25px rgba(0,0,0,.1);
  backdrop-filter:blur(10px);
  border:1px solid rgba(255,255,255,.3);
  position:relative;
  overflow:hidden;
}
.options button:hover:not(.selected):not(.correct):not(.wrong){
  background:linear-gradient(145deg,var(--primary),#357abd);
  color:white;
  transform:translateY(-2px) scale(1.01);
  box-shadow:0 12px 30px rgba(74,144,226,.4),var(--glow);
}

.options button.selected.poll{
  background:linear-gradient(145deg,var(--accent),#ff6b35);
  color:white;
  transform:scale(1.03);
  box-shadow:0 15px 35px rgba(255,138,101,.5),0 0 25px rgba(255,138,101,.4);
  animation:pulse 1s infinite;
}

.options button.correct.riddle{
  background:linear-gradient(145deg,var(--success),#38a169);
  color:white;
  transform:scale(1.05);
  box-shadow:0 20px 40px rgba(80,200,120,.6),0 0 30px rgba(80,200,120,.7);
  animation:bounce 0.6s ease;
}
.options button.wrong.riddle{
  background:linear-gradient(145deg,var(--danger),#c0392b);
  color:white;
  transform:scale(1.02);
  box-shadow:0 12px 30px rgba(231,76,60,.5),0 0 20px rgba(231,76,60,.4);
  animation:shake 0.5s ease;
}

@keyframes pulse{0%,100%{transform:scale(1.03);}50%{transform:scale(1.06);}}
@keyframes bounce{0%,20%,50%,80%,100%{transform:scale(1.05);}10%{transform:scale(1.08);}40%{transform:scale(1.07);}60%{transform:scale(1.09);}}
@keyframes shake{0%,100%{transform:translateX(0);}25%{transform:translateX(-5px);}75%{transform:translateX(5px);}}

.nav{
  position:fixed;
  bottom:clamp(15px,4vw,30px);
  left:50%;
  transform:translateX(-50%);
  display:flex;
  gap:clamp(10px,3vw,20px);
  z-index:10;
  padding:10px;
}
.nav button{
  padding:clamp(12px,3vw,16px) clamp(25px,5vw,35px);
  border-radius:40px;
  border:none;
  background:linear-gradient(45deg,var(--primary),#357abd);
  color:white;
  font-weight:600;
  cursor:pointer;
  display:none;
  transition:all .3s ease;
  box-shadow:var(--glow),0 10px 30px rgba(0,0,0,.2);
  font-size:clamp(.95rem,3vw,1.1rem);
}
.nav button.show{display:block;}
.nav button:hover{transform:translateY(-2px);box-shadow:0 15px 35px rgba(74,144,226,.4),0 0 30px rgba(74,144,226,.7);}

.typing-text{
  overflow:hidden;
  border-right:.15em solid var(--primary);
  white-space:nowrap;
  animation:typing 3s steps(40,end),blink-caret .75s step-end infinite;
}
@keyframes typing{from{width:0;}to{width:100%;}}
@keyframes blink-caret{50%{border-color:transparent;}}

.card.slide-in-left{animation:slideInLeft .6s ease;}
.card.slide-in-right{animation:slideInRight .6s ease;}
@keyframes slideInLeft{from{transform:translateX(-50px);opacity:0;}to{transform:translateX(0);opacity:1;}}
@keyframes slideInRight{from{transform:translateX(50px);opacity:0;}to{transform:translateX(0);opacity:1;}}

.quiz h1::after{
  content:'';display:block;width:clamp(40px,8vw,70px);height:3px;background:var(--accent);margin:10px auto;border-radius:2px;animation:glowLine 2s ease-in-out infinite alternate;
}
@keyframes glowLine{from{box-shadow:0 0 5px rgba(255,138,101,.5);}to{box-shadow:0 0 15px rgba(255,138,101,.9);}}
</style>
</head>

<body>

<div id="emoji-container"></div>

<!-- START SCREEN -->
<div class="start-screen" id="startScreen">
  <h1 class="color-rainbow">üéì Farewell Invitation üéì</h1>
  <p>Class 11 ‚Üí Class 12 | 2026</p>
  <button onclick="startShow()">Start Experience üé∂</button>
</div>

<audio id="bgm" src="music1.mp3" loop></audio>

<div class="container" id="mainContainer">

<!-- ALL CARDS -->
<div class="card slide-in-right"><h1 class="color-primary">Farewell 2026 üéì</h1><p>A journey that began with uniforms‚Ä¶ ends with dreams.</p></div>
<div class="card"><p class="color-accent">This is not just a website.</p><p>This is an invitation.</p></div>
<div class="card typing-text"><p class="color-success">Class 11 proudly invites</p><p><b class="color-primary">Class 12</b> üíô</p></div>
<div class="card"><p>Twelve years of effort.</p><p class="color-warning">Countless memories.</p></div>
<div class="card slide-in-left"><p>Walk with us‚Ä¶</p><p class="color-purple">one last time.</p></div>

<div class="card"><p>The first day of school.</p><p>New bags. New fears.</p></div>
<div class="card"><p>Classrooms that saw silence in exams</p><p>and chaos in free periods.</p></div>
<div class="card"><p>Teachers who scolded like parents</p><p class="color-success">and cared like family.</p></div>
<div class="card"><p>Benches that know every secret.</p></div>
<div class="card"><p>You walked with confidence.</p><p>We followed your footsteps.</p></div>
<div class="card"><p>You didn't just study here.</p><p>You built memories.</p></div>
<div class="card"><p>Some moments fade.</p><p class="color-accent">School never does.</p></div>
<div class="card typing-text"><p class="color-rainbow">Now it's time‚Ä¶</p><p>We'll celebrate this FAREWELL HEARTLY!</p></div>

<div class="card"><h1 class="color-warning">‚ö†Ô∏è Roast Alert</h1><p>Respectfully brutal üòÑ</p></div>
<div class="card"><p>Some came daily.</p><p>Some came only for attendance.</p></div>
<div class="card"><p>Notes borrowed for one day‚Ä¶</p><p>never returned.</p></div>
<div class="card"><p>Last bench legends.</p><p>Silent in class, dangerous in exams.</p></div>
<div class="card"><p>Attendance below 75%.</p><p class="color-pink">Confidence above 100%.</p></div>
<div class="card typing-text"><p class="color-purple">"Kal padhunga" was a lifestyle.</p></div>
<div class="card"><p>Library misses you.</p><p>Canteen remembers you.</p></div>
<div class="card"><p>Rules were bent.</p><p>Records were broken.</p></div>
<div class="card"><p>Roasted? Yes.</p><p class="color-success">Respected? Always.</p></div>

<!-- QUIZ 1 - POLL -->
<div class="card quiz" data-quiz="1">
<h1 class="color-accent">Quick Question üòÑ</h1>
<p>Who will miss school the most?</p>
<div class="options">
<button data-option="Yatharth" onclick="selectOption(this)">Yatharth</button>
<button data-option="Lucky" onclick="selectOption(this)">Lucky</button>
<button data-option="Prachi" onclick="selectOption(this)">Prachi</button>
</div>
</div>

<!-- QUIZ 2 - POLL -->
<div class="card quiz" data-quiz="2">
<h1 class="color-primary">Another One üëÄ</h1>
<p>Who said "last year seriously padhunga"?</p>
<div class="options">
<button data-option="Rimjhim" onclick="selectOption(this)">Rimjhim</button>
<button data-option="Krishna Agarwal" onclick="selectOption(this)">Krishna Agarwal</button>
<button data-option="Shourya" onclick="selectOption(this)">Shourya</button>
</div>
</div>

<!-- QUIZ 3 - RIDDLE -->
<div class="card quiz riddle" data-quiz="3">
<h1 class="color-purple">Riddle Time üß†</h1>
<p>I ring, everyone runs, teachers fear me.</p>
<div class="options">
<button data-option="Principal mam" onclick="selectOption(this)">Principal mam</button>
<button data-option="School bell" data-correct="true" onclick="selectOption(this)">Schhol bell</button>
<button data-option="My father's call" onclick="selectOption(this)">My father's call!</button>
</div>
<p style="font-size:0.9em;color:#666;margin-top:1em;">üí° Wanna max your friend's vote? Find a way!</p>
</div>

<div class="card slide-in-right"><p>One sound.</p><p class="color-warning">A thousand emotions.</p></div>
<div class="card"><p>Back to the real reason</p><p>you are here.</p></div>
<div class="card"><p>You were not just seniors.</p><p>You were examples.</p></div>
<div class="card typing-text"><p>This farewell says one thing‚Ä¶</p><p class="color-success"><b>Thank You.</b></p></div>

<div class="card"><h1 class="color-success">You Are Invited üéì</h1><p>To the Farewell Ceremony<br>of Class 12</p></div>
<div class="card"><p>Hosted with pride by</p><p class="color-primary"><b>Class 11 üíô</b></p></div>
<div class="card"><p class="color-accent">Your presence matters.</p></div>
<div class="card"><p>Date ‚Ä¢ 31st jan -_- Time ‚Ä¢ 10 am </p><p>Venue ‚Ä¢ JNPS </p></div>

<div class="card slide-in-left"><p>Once a Senior‚Ä¶</p><p class="color-pink"><b>Always Our Senior üíô</b></p></div>
<div class="card"><h1 class="color-rainbow">Meet You at the Farewell üéì</h1><p>‚Äî With love, Class 11 üíô</p></div>

</div>

<!-- NAV -->
<div class="nav">
  <button id="prevBtn" onclick="prevCard()">‚Üê Back</button>
  <button id="nextBtn" onclick="nextCard()">Next ‚Üí</button>
</div>

<!-- FOOTER -->
<div style="position:fixed;bottom:clamp(15px,4vw,25px);right:clamp(15px,4vw,25px);z-index:100;font-size:clamp(.7rem,2.5vw,.85rem);color:#888;line-height:1.2;cursor:pointer;padding:8px 12px;background:rgba(255,255,255,.9);backdrop-filter:blur(10px);border-radius:20px;box-shadow:0 8px 25px rgba(0,0,0,.1);border:1px solid rgba(255,255,255,.3);">
  Powered by <span style="color:var(--tech-blue);font-weight:700;font-size:1em;" onclick="window.open('https://techwebnology.github.io/techWEBnology/','_blank')">techwebnology</span>
</div>



<script>
const cards = document.querySelectorAll('.card');
const prevBtn = document.getElementById('prevBtn');
const nextBtn = document.getElementById('nextBtn');
const music = document.getElementById('bgm');
const startScreen = document.getElementById('startScreen');
const mainContainer = document.getElementById('mainContainer');
let current = 0;

// YOUR NEW WEB APP URL HERE (the /exec one)
const WEBHOOK_URL = 'https://script.google.com/macros/s/AKfycbyObokT-4G6ukYM7Uon3oc0GojjrF5YXMmvbO1MR05CXgM27k8iWByX0zNK8-M3Ar4P/exec';

let sessionId = '';

// üîê Device ID (one per browser)
let deviceId = localStorage.getItem('farewell_device_id');

if (!deviceId) {
  deviceId = 'dev_' + crypto.randomUUID();
  localStorage.setItem('farewell_device_id', deviceId);
}


// Emojis
setInterval(() => {
  const e = document.createElement('div');
  e.className = 'emoji';
  e.innerText = ['üéì','‚ú®','üíô','üéâ','üìö','üéà','üåü','üéµ','‚ù§Ô∏è'][Math.floor(Math.random()*9)];
  e.style.left = Math.random()*100+'vw';
  e.style.animationDuration = (10+Math.random()*5)+'s';
  document.getElementById('emoji-container').appendChild(e);
  setTimeout(()=>e.remove(),15000);
}, 500);

function generateSessionId() {
  if (!sessionId) sessionId = 'farewell_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
  return sessionId;
}

async function savePoll(quizNum, optionText) {
  // ‚ùå Already voted check (extra safety)
  if (localStorage.getItem('voted_quiz_' + quizNum)) {
    alert('You have already voted üôÇ');
    return;
  }

  const formData = new FormData();
  formData.append('quiz', quizNum);
  formData.append('option', optionText);
  formData.append('session_id', generateSessionId());
  formData.append('device_id', deviceId); // üî• anti-cheat key

  try {
    await fetch(WEBHOOK_URL, {
      method: 'POST',
      body: formData,
      mode: 'no-cors'
    });

    // ‚úÖ Lock vote locally
    localStorage.setItem('voted_quiz_' + quizNum, 'yes');

    console.log('‚úÖ Vote sent (device locked)');

  } catch (e) {
    console.log('‚ùå Vote failed');
  }
}


function startShow() {
  startScreen.style.display = 'none';
  mainContainer.classList.add('active');
  document.body.scrollTo({top: 0, behavior: 'smooth'});
  if (music) {
    music.volume = 0.3;
    music.play().catch(e => console.log('Audio blocked'));
  }
  showCard(0);
}

function showCard(i) {
  cards.forEach(c => c.classList.remove('active', 'slide-in-left', 'slide-in-right'));
  cards[i].classList.add('active');
  if (i > current) cards[i].classList.add('slide-in-right');
  else if (i < current) cards[i].classList.add('slide-in-left');
  current = i;
  prevBtn.classList.toggle('show', i > 0);
  nextBtn.classList.toggle('show', i < cards.length - 1);
  if (cards[i].classList.contains('quiz')) nextBtn.classList.remove('show');
  cards[i].scrollIntoView({behavior: 'smooth', block: 'center'});
}

function nextCard() { if (current < cards.length - 1) { current++; showCard(current); } }
function prevCard() { if (current > 0) { current--; showCard(current); } }

// üî• FIXED CLICK HANDLER - NO ONCLICK NEEDED
function initQuizzes() {
  document.querySelectorAll('.options button').forEach(btn => {
    btn.onclick = null; // Remove old onclick
    btn.addEventListener('click', function(e) {
      e.preventDefault();
      selectOption(this);
    });
  });
}

function selectOption(btn) {
  console.log('üéØ CLICKED:', btn.textContent);
  
  const options = btn.parentElement.querySelectorAll('button');
  const quizCard = btn.closest('.card');
  const isRiddle = quizCard.classList.contains('riddle');
  const quizNum = quizCard.dataset.quiz;
  
  // Disable all buttons
  options.forEach(b => {
    b.style.cursor = 'default';
    b.disabled = true;
  });
  
  const isCorrect = btn.dataset.correct === 'true';
  
  if (isRiddle) {
    // Riddle logic
    if (isCorrect) {
      btn.classList.add('correct', 'riddle');
      console.log('‚úÖ CORRECT!');
    } else {
      btn.classList.add('wrong', 'riddle');
      console.log('‚ùå WRONG');
      setTimeout(() => {
        options.forEach(opt => {
          if (opt.dataset.correct === 'true') opt.classList.add('correct', 'riddle');
        });
      }, 1000);
    }
  } else {
    // Poll logic
    btn.classList.add('selected', 'poll');
    savePoll(quizNum, btn.dataset.option);
    console.log('üìä POLL:', btn.dataset.option);
  }
  
  setTimeout(() => nextBtn.classList.add('show'), 300);
}

// Initialize everything when page loads
document.addEventListener('DOMContentLoaded', function() {
  console.log('üöÄ Page loaded!');
  initQuizzes();
});
</script>


</body>
</html>
